@using Microsoft.AspNetCore.Identity
@using lms_test1.Areas.Identity.Data
@inject UserManager<LMSUser> UserManager

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - lms_test1</title>
    <script type="importmap"></script>
    @* <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" /> *@
    <link rel="stylesheet" href="//cdn.jsdelivr.net/combine/npm/purecss@3.0.0/build/base-min.css,npm/purecss@3.0.0/build/buttons-min.css,npm/purecss@3.0.0/build/forms-min.css,npm/purecss@3.0.0/build/grids-min.css,npm/purecss@3.0.0/build/grids-responsive-min.css,npm/purecss@3.0.0/build/tables-min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/lms_test1.styles.css" asp-append-version="true" />
    @await RenderSectionAsync("Styles", required: false)
</head>

<body>
    <div class="site-wrap">

        <nav class="site-nav">
            <div class="side-nav">
                <div class="name">
                    @User.Identity?.Name
                    @* <svg width="24" height="24" viewBox="0 0 24 24">
                            <path
                                d="M11.5,22C11.64,22 11.77,22 11.9,21.96C12.55,21.82 13.09,21.38 13.34,20.78C13.44,20.54 13.5,20.27 13.5,20H9.5A2,2 0 0,0 11.5,22M18,10.5C18,7.43 15.86,4.86 13,4.18V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V4.18C7.13,4.86 5,7.43 5,10.5V16L3,18V19H20V18L18,16M19.97,10H21.97C21.82,6.79 20.24,3.97 17.85,2.15L16.42,3.58C18.46,5 19.82,7.35 19.97,10M6.58,3.58L5.15,2.15C2.76,3.97 1.18,6.79 1,10H3C3.18,7.35 4.54,5 6.58,3.58Z">
                            </path>
                        </svg> *@
                </div>
                <div class="nav-links">
                    <ul>
                        <li @if(Context.Request.Path == "/") {
                        <text>class="active"</text>
                                                }
                            >
                            <a asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                            @* <ul>
                                <li><a href="#0">Create New Deal</a></li>
                                <li><a href="#0">Modify Deal</a></li>
                                <li><a href="#0">Pipeline</a></li>
                            </ul> *@
                            <ul>
                                <li @if(Context.Request.Path.Value?.ToLower() == "/home/privacy") {
                                <text>
                                    class="active"</text>
                                                                }
                                    >
                                    <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
                                </li>
                            </ul>
                        </li>
                        @if (User.IsInRole("Admin"))
                        {
                            <li @if(Context.Request.Path.Value?.ToLower().StartsWith("/teachers") == true) {
                            <text>class="active"</text>
                                                        }
                                >
                                <a asp-area="" asp-controller="Teachers" asp-action="Index">Teacher Management</a>
                            </li>
                        }
                        @if (User.IsInRole("Admin") || User.IsInRole("HeadTeacher"))
                        {
                            <li @if(Context.Request.Path.Value?.ToLower().StartsWith("/sections") == true) {
                            <text>class="active"</text>
                                                        }
                                >
                                <a asp-area="" asp-controller="Sections" asp-action="Index">Sections</a>
                            </li>
                        }
                        @if (User.IsInRole("Admin") || User.IsInRole("HeadTeacher"))
                        {
                            <li @if(Context.Request.Path.Value?.ToLower().StartsWith("/students") == true) {
                            <text>class="active"</text>
                                                        }
                                >
                                <a asp-area="" asp-controller="Students" asp-action="Index">Students</a>
                            </li>
                        }
                        @if (User.IsInRole("Admin") || User.IsInRole("HeadTeacher"))
                        {
                            <li @if(Context.Request.Path.Value?.ToLower().StartsWith("/subjects") == true) {
                            <text>class="active"</text>
                                                        }
                                >
                                <a asp-area="" asp-controller="Subjects" asp-action="Index">Subjects</a>
                            </li>
                        }
                        
                    </ul>
                    <div class="note">
                        <h3>Your Monthly Report</h3>
                        <p>Get the info about all your deals, pros, cons. And build your roadmap.</p>
                    </div>
                </div>
            </div>
            <ul style="padding: .5rem 0;">
                <li>
                    <form  class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                        <button  type="submit" class="logout-button">Logout</button>
                    </form>
                </li>
            </ul>
        </nav>

        <main>

            @RenderBody()


        </main>

    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
